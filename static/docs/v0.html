<!DOCTYPE html>
<html>

<head>
  <title>No-Frills API</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/styles/atom-one-dark.min.css">
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js"></script>
  <link rel="stylesheet" type="text/css" href="../styles/main.css">
  <link href="https://fonts.googleapis.com/css?family=Roboto" rel="stylesheet">
</head>

<body>

  <header class="nf-header nf-header-docs">
    <nav class="nf-nav">
      <h1 class="nf-logo">
        <a href="/" class="cbutton cbutton--effect-jelena">
          <img class="nf-hideOnMobile" src="../nfapi-logo.png" alt="No-Frills API">
          <img class="nf-mobile-menu" src="../assets/bananas.png" alt="No-Frills API">
        </a>
      </h1>
      <ul class="nf-nav-list no-list-styles">
        <li><a href="/about.html" class="cbutton cbutton--effect-jelena">
          <span class="nf-hideOnMobile">About</span>
          <img src="../assets/question.svg" class="nf-mobile-menu"></a>
        </li>
        <li><a href="/docs/v0.html" class="nf-link-active cbutton cbutton--effect-jelena">
          <span class="nf-hideOnMobile">Documentation</span>
          <img src="../assets/book-dark.svg" class="nf-mobile-menu"></a>
        </li>
        <li><a href="//www.github.com/heatherbooker/no-frills-api" class="cbutton cbutton--effect-jelena">
          <span class="nf-hideOnMobile">Source</span>
          <img src="../assets/github.svg" class="nf-mobile-menu"></a>
        </li>
      </ul>
    </nav>
  </header>

  <div class="nf-docs">

    <div class="nf-docs-sidenav-toggle_closed" id="nf-docs-sidenav-toggle"></div>
    <div class="nf-docs-sidenav nf-docs-sidenav_hidden" id="nf-sidenav">
      <nav>
        <ul class="no-list-styles">
          <li class="nf-docs-sidenav-header">Information</li>
          <li><a href="#general">General</a></li>
          <li><a href="#root-endpoint">Root Endpoint</a></li>
          <li><a href="#errors">Errors</a></li>
          <li><a href="#halp">Help</a></li>
          <li class="nf-docs-sidenav-header">Endpoints</li>
          <li><a href="#get-stores">Stores</a></li>
          <li><a href="#get-store">A Store</a></li>
          <li><a href="#get-flyers-for-store">All Flyers for Store</a></li>
          <li><a href="#get-flyers">Flyers</a></li>
          <li><a href="#get-flyer">A Flyer</a></li>
        </ul>
      </nav>
    </div>

    <main class="nf-docs-main">
      <section class="nf-docs-main-section">

      <h2 class="nf-docs-title">Documentation</h2>

      <h2 class="nf-docs-h2 nf-docs-h2-first" id="general">General</h2>

      <h3 class="nf-docs-h3" id="api-info">api info</h3>
      <p>Data is refreshed daily.</p>

      <h3 class="nf-docs-h3" id="response-info">response info</h3>
      <p>Responses will always:
        <ul class="nf-docs-list">
          <li>be JSON,</li>
          <li>have a <code>status</code> field,</li>
          <li>use <code>null</code> to represent a blank field</li>
        </ul>
      </p>

      <h2 class="nf-docs-h2" id="root-endpoint">Root Endpoint</h2>
      
      <h3 class="nf-docs-h3-no-caps" id="http://nofrills-api.herokuapp.com/api/v0">http://nofrills-api.herokuapp.com/api/v0</h3>
      <p>Append the route representing the data you would like to receive, to the above endpoint.</p>


      <h2 class="nf-docs-h2" id="errors">Errors</h2>

      <h3 class="nf-docs-h3" id="description-5">description</h3>
      <p>This is the response object you might receive if there is a problem with your request. There will be a status code and an accompanying message.</p>

      <h3 class="nf-docs-h3" id="response-5">response</h3>
      <pre><code class="javascript">{
    &quot;status&quot;: 404,
    &quot;message&quot;: &quot;The requested resource was not found.&quot;
  }</code></pre>


      <h2 class="nf-docs-h2" id="halp">Help!</h2>
      [ <a href="#thegoodstuff">I don't need help, take me to the good stuff</a> ]
      <p>If you are new to this, it may all be a little confusing. I know it was for me. So let me break it down as much as I can.</p>
      <p><em>Tip: Change any word in the address prefaced with &quot;:&quot; (ex, &quot;:store_id&quot; -&gt; &quot;386&quot;) to specify what you want.</em></p>
      <ol style="list-style-type: decimal">
        <li>Open a new file; call it: <code>nofrillsExample.js</code>.</li>
        <li>Add an HTTP request to this nofrills api, using the fetch api:</li>
      </ol>
      <pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="co">// nofrillsExample.js</span>

  <span class="fu">fetch</span>(<span class="st">&#39;http://nofrills-api.herokuapp.com/api/v0/stores/3410/flyers&#39;</span>)
    .<span class="fu">then</span>(<span class="kw">function</span>(data) {
      <span class="ot">console</span>.<span class="fu">log</span>(<span class="st">&#39;we got some data! here it is: &#39;</span> + data);
  });</code></pre>
      <ol start="3" style="list-style-type: decimal">
        <li>Make sure you have <a href="https://nodejs.org/en/download/">node installed</a>.</li>
        <li>Run the file from your terminal / command line (note: you must be in the directory where <code>nofrillsExample.js</code> is! <a href="http://www.digitalcitizen.life/command-prompt-how-use-basic-commands">use cd</a> to do this) :</li>
      </ol>
      <pre class="sourceCode bash"><code class="sourceCode bash"><span class="kw">node</span> nofrillsExample.js</code></pre>
      <p>This will retrieve a single flyer, identified by the number &quot;2&quot; in the URL, from the store identified by the number &quot;3410&quot; in the URL. To get a flyer from a different store, change the number after &quot;/stores/&quot; (make sure that your new number is a valid store id though!). To get a different flyer from the same store, change the number after &quot;/flyers/&quot; (again, making sure the new number is also a valid flyer id - &quot;1&quot; is always a safe bet).
        <p><a href="https://developer.mozilla.org/en-US/docs/Web/API/Fetch_API/Using_Fetch">Fetch</a> is an awesome, super simple way to make HTTP requests. It takes care of a lot of the details for you. For example, we don't need to specify that we want to use the <code>GET</code> method to access the data - it is simply the default.</p>
        <p>The fetch call is followed by <code>.then()</code> which takes a callback which itself takes an argument, &quot;data&quot;. There are a few things to know about this:</p>
        <ul class="nf-docs-list">
          <li>&quot;data&quot; is not a special word; you could use any word - &quot;information&quot;, &quot;stuff&quot;, &quot;whoKnowsWhatThisIsEvenGonnaBe&quot;, etc.</li> 
          <li>fetch returns a <a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Promise">promise</a>: this means that it &quot;promises&quot; to do something which might take a long time; in this case, because it is going across the interwebs to get the nofrills data, it might be slow. once it's done, it hands over the data it retrieved to the callback function specified in the <code>.then()</code>. </li>
          <li>anything you put in the callback will only happen once the data has been retrieved - anything you put outside of the <code>.then()</code> callback may happen at any time in relation to what is contained within it.</li>
      <p>So if we write:</p>
      <pre class="sourceCode javascript"><code class="sourceCode javascript"><span class="kw">var</span> importantThings = <span class="st">&#39;alphaghetti&#39;</span>;

  <span class="fu">fetch</span>(<span class="st">&#39;http://nofrills-api.herokuapp.com/api/v0/stores/3410/flyers&#39;</span>)
    .<span class="fu">then</span>(<span class="kw">function</span>(stuff) {
      importantThings = stuff;
      <span class="ot">console</span>.<span class="fu">log</span>(<span class="st">&#39;these are really important things: &#39;</span>, importantThings);
  });

  <span class="ot">console</span>.<span class="fu">log</span>(<span class="st">&#39;check out these important things: &#39;</span>, importantThings);</code></pre>
      <p>It might look like the output should be <code>stuff</code> printed twice, since you change it before logging it. But actually, most likely first it will print &quot;alphaghetti&quot; and then <code>stuff</code>, because the request will be sent off to get &quot;stuff&quot;, then the <code>console.log</code> after the fetch call will happen, then once the response comes back, fetch will have completed its promise and the callback which changes importantThings will happen.</p>
      <p>A small detail: make sure you don't put a semicolon between the fetch call and the .then(), or the .then() wont have access to whatever information the fetch call is getting!</p>
      <h4 id="good-luck">Good luck!</h4>


      <h2 class="nf-docs-h2" id="get-stores"><a aria-hidden="true" class="nf-docs-anchor" name="thegoodstuff">Get /stores</a></h2>
      
      <h3 class="nf-docs-h3" id="description">description</h3>
      <p>This request returns store information and flyer ids for all stores, organized by city and province. Provinces are represented by their two-letter abbreviation (ex. BC for British Columbia).</p>

      <h3 class="nf-docs-h3" id="response">response</h3>
      <pre><code class="javascript">{
    &quot;status&quot;: 200,
    &quot;data&quot;: [{
        // See /store/:storeID response below
        // for details of the store objects.
      },
      ...
    ]
  }</code></pre>


      <h2 class="nf-docs-h2" id="get-store">Get /stores/:store_id</h2>

      <h3 class="nf-docs-h3" id="description-1">description</h3>
      <p>This request returns store information and flyer ids for the store identified by the <code>store_id</code> parameter.
      </p>
      <p>The data.store.hours field represents the store's operating hours for this week; if any day's hours are affected by a holiday, that day will be listed in hours.holidays.
      </p>
      <p>The owner is the person's name found in the store name, ex. &quot;Bob's NOFRILLS&quot;.
      </p>

      <h3 class="nf-docs-h3" id="response-1">response</h3>
      <pre><code class="javascript">{
    &quot;status&quot;: 200,
    &quot;data&quot;: {
      &quot;id&quot;: &quot;3410&quot;,
      &quot;owner&quot;: &quot;Bob&quot;,
      &quot;manager&quot;: null,
      &quot;address&quot;: {
        &quot;street_address&quot;: &quot;621 Fairville Blvd&quot;,
        &quot;city&quot;: &quot;Vancouver&quot;,
        &quot;province&quot;: &quot;BC&quot;,
        &quot;postal_code&quot;: &quot;V6E 3T7&quot;
      },
      &quot;hours&quot;: {
        &quot;holidays&quot;: [&quot;Monday&quot;];
        &quot;sunday&quot;: &quot;11:00 AM - 6:00 PM&quot;,
        &quot;monday&quot;: &quot;Closed&quot;,
        ...
      },
      &quot;phone_number&quot;: &quot;111-111-1111&quot;,
      &quot;departments&quot;: [&quot;Pharmacy&quot;, &quot;Produce&quot;, &quot;Gift Cards&quot;, ...],
      &quot;flyer_ids&quot;: [&quot;23&quot;, &quot;297&quot;, ...]
    }
  }</code></pre>


      <h2 class="nf-docs-h2" id="get-flyers-for-store">Get /stores/:store_id/flyers</h2>

      <h3 class="nf-docs-h3" id="description-2">description</h3>
      <p>This request returns only flyers for the store identified by the <code>store_id</code> parameter.</p>

      <h3 class="nf-docs-h3" id="response-2">response</h3>
      <pre><code class="javascript">{
    &quot;data&quot;: [
      {
        // See /flyers/:flyer_id response below
        // for details of the flyer objects.
      },
    ...
    ]
  }</code></pre>


      <h2 class="nf-docs-h2" id="get-flyers">Get /flyers</h2>

      <h3 class="nf-docs-h3" id="description-3">description</h3>
      <p>This request returns all flyers for all stores.</p>

      <h3 class="nf-docs-h3" id="response-3">response</h3>
      <pre><code class="javascript">{
    &quot;status&quot;: 200,
    &quot;data&quot;: [
      {
        // See /flyers/:flyer_id response below
        // for details of the flyer objects.
      },
      ...
    ]
  }</code></pre>


      <h2 class="nf-docs-h2" id="get-flyer">Get /flyers/:flyer_id</h2>

      <h3 class="nf-docs-h3" id="description-4">description</h3>
      <p>This request returns the flyer identified by the <code>flyer_id</code> parameter for the store identified by the <code>store_id</code> parameter.</p>

      <h3 class="nf-docs-h3" id="response-4">response</h3>
      <pre><code class="javascript">{
    &quot;status&quot;: 200,
    &quot;data&quot;: {
      &quot;id&quot;: &quot;2&quot;,
      &quot;store_id&quot;: &quot;3410&quot;,
      &quot;start_date&quot;: &quot;Thursday September 29&quot;,
      &quot;end_date&quot;: &quot;Wednesday October 05&quot;,
      &quot;products&quot;: [{
        &quot;productTitle&quot;: &quot;CATELLI HEALTHY HARVEST, BISTRO or SMART PASTA&quot;,
        &quot;priceString&quot;: &quot;0.97&quot;,
        &quot;priceSavings&quot;: &quot;$1.00&quot;,
        &quot;description&quot;: &quot;300-375 g\nselected varieties&quot;,
        &quot;correctionNotice&quot;: null,
        &quot;img&quot;: &quot;http://content.flyerservices.com/xmlpublicationservice.svc/lcl/NOFR/
        images/30f23534-5dd4-4df6-a81d-00cd38eba750/214x214&quot;,
        &quot;french&quot;: &quot;p√¢tes&quot;
        },
        ...
      ]
    }
  }</code></pre>


    </section>
    </main>

  </div>

  <footer class="nf-footer nf-footer-non-home">
    <p class="nf-footer-notLoblaws">No-Frills API is not affiliated with Loblaw Companies Limited</p>
    <p class="nf-footer-right">&copy; 2017 
      <a href="https://heatherbooker.github.io">Heather Booker</a>
    </p>
    <p class="nf-footer-right">Inspired by 
      <a href="//www.lcboapi.com">LCBO API</a>
    </p>
  </footer>

</body>

<!-- Codrops click effect. -->
<script src="../codropsClickFx.min.js"></script>
<script type="text/javascript">

// Initialize syntax highlighting for code snippets.
hljs.initHighlightingOnLoad();

// Make sidenav scroll then fix at top.
document.addEventListener('DOMContentLoaded', function() {
  const sidenav = document.getElementById('nf-sidenav');
  const topPosition = getOffset(sidenav);
  const topMargin = window.getComputedStyle(sidenav, null).getPropertyValue('margin-top');
  const top = topPosition - parseFloat(topMargin);

  window.onscroll = function() {
    const scrollTop = document.body.scrollTop || document.documentElement.scrollTop;
    if (scrollTop >= top) {
      sidenav.classList.add('nf-docs-sidenav_fixed');
    } else {
      sidenav.classList.remove('nf-docs-sidenav_fixed');
    }
  }
  function getOffset(element) {
    var de = document.documentElement;
    var box = element.getBoundingClientRect();
    var top = box.top + window.pageYOffset - de.clientTop;
    return top;
  }

  // Toggle sidenav on mobile.
  const sidenavToggle = document.getElementById('nf-docs-sidenav-toggle');
  function toggleSidenav() {
    if (!sidenav.classList.contains('nf-docs-sidenav_hidden')) {
      sidenav.classList.add('nf-docs-sidenav_hidden');
      sidenavToggle.className = 'nf-docs-sidenav-toggle_closed';
    } else {
      sidenav.classList.remove('nf-docs-sidenav_hidden');
      sidenavToggle.className = 'nf-docs-sidenav-toggle_open';
    }
  }

  sidenavToggle.onclick = toggleSidenav;
  sidenav.onclick = toggleSidenav;

});
</script>

</html>
